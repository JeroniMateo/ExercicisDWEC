<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Vue  3  CDN -->
    <script src="https://unpkg.com/vue@next"></script>
  </head>
  <body>
    <div id="app">
      <h2>Afegeix un nou alumne</h2>
      Nom: <input v-model="nomAlumne" type="text" name="" id="name" /> Edat:
      <input v-model="ageAlumne" type="number" name="" id="age" />
      <button v-on:click="guardarDades">Guardar</button>
      <h2>Llista de clase</h2>
      <ol> 
        <!--Aqui van els alumnes-->
        <li v-for="element in llista" v-bind:key="element.id">{{element.name}} t√© {{element.age}} anys Id: {{element.id}}
            <button v-on:click="borrarAlumne(element.id)">Borrar</button>
            <button v-on:click="visualitzarAlumne(element)">Visualitzar</button>
            
        </li>
      </ol>
      <p> {{ fitxaAlumne.name}} te {{fitxaAlumne.age   }} anys </p>
    </div>
  </body>
  <script>
    const app = {
      data() {
        return {
          nomAlumne: "Joan",
          ageAlumne: 0,
          llista: [
            {id:1, name:"Tomeu", age:5},
            {id:2, name:"Pep", age:15},
            {id:3, name:"Miquel", age:50}
          ],
          valorId:0,
          //Per visualitzar
          fitxaAlumne:{

          }
        };
      },
      methods: {
        //Guardar dades de l'alumne 
        guardarDades() {
            valorId =100;
            this.valorId++
          let alumn = { id: this.valorId, name: this.nomAlumne, age: this.ageAlumne };
            
          //fer un push a la llista
          this.llista.push(alumn)
        },
        borrarAlumne(identificador){
            //eliminar ALumne
            this.llista = this.llista.filter((element)=> element.id != identificador )
                
              
     },
     visualitzarAlumne(element){
        this.fitxaAlumne=element
     }
        
      },
    };
    Vue.createApp(app).mount("#app");
  </script>
</html>
